const cacheName="my-pwa-cache-v.0001";async function updateCache(t){const{request:a}=t,e=await caches.open(cacheName),n=await fetch(a);n.url,await e.put(a,n)}async function fetchRespondWith(t){return fetch(t.request).catch((async a=>{a.message;const e=await caches.open(cacheName),n=await e.match(t.request);if(!n||"404"===String(n.status))throw new Error("no-match");return n}))}const urlStartWithList=["/api/get-initial-data","/static/","/article/","/manifest.json"];function isUrlStartWithListContainPathname(t){return urlStartWithList.some((a=>t.startsWith(a)))}async function fetchCallBack(t){const{request:a}=t,{method:e,url:n}=a;if("get"!==e.toLowerCase())return;const c=new URL(n),{pathname:i}=c;(isUrlStartWithListContainPathname(i)||"/"===i)&&(t.waitUntil(updateCache(t)),t.respondWith(fetchRespondWith(t)))}self.addEventListener("fetch",fetchCallBack);